<template>
    <div>
        <navbar
            :examples="examples"
            @change="exampleChange"
        />
        <vulnerability-header
            :maxVulnerability="maxVulnerability"
            :vulnerabilityNow="vulnerabilityNow"
            :vulnerabilityIn8h="vulnerabilityIn8h"
            :vulnerabilityIn24h="vulnerabilityIn24h"
        />
        <div class="grid content-container">
            <form-input
                grid="4"
                :label="$t('vulnerability-model.time-day')"
                v-model="timeOfTheDay"
                type="datetime-local"
                :badgeDisplay="false"
            />
            <form-input
                grid="4"
                :label="$t('vulnerability-model.time-last-seen')"
                v-model="timeLastSeen"
                type="datetime-local"
                :badgeDisplay="false"
                :error="timeOfTheDay < timeLastSeen"
            />
            <form-input
                grid="4"
                :label="$t('vulnerability-model.total-hours-lost')"
                v-model="totalHoursLost"
                type="display"
                displayAfter="h"
                badgeOperation="mult"
                :badgeRange="rangeTotalHoursLost"
            />
            <form-input
                grid="3"
                :label="$t('vulnerability-model.age.label')"
                v-model="age"
                type="number"
                :badgeMax="Math.max.apply(Math, rangeAge.map(o => { return o.value }))"
                :badgeRange="rangeAge"
                :error="age < 0"
            />
            <form-input
                grid="3"
                :label="$t('vulnerability-model.total-people.label')"
                v-model="totalPeople"
                type="number"
                :badgeRange="rangeTotalPeople"
                :error="totalPeople !== '' & totalPeople < 1"
            />
            <form-select
                grid="3"
                :label="$t('vulnerability-model.communication.label')"
                :placeholder="$t('vulnerability-model.communication.placeholder')"
                v-model="communication"
                :options="optionsCommunication"
                @select="communication = $event"
            />
            <form-select
                grid="3"
                :label="$t('vulnerability-model.geoposition.label')"
                :placeholder="$t('vulnerability-model.geoposition.placeholder')"
                v-model="geoposition"
                badgeOperation="mult"
                :options="optionsGeoposition"
                @select="geoposition = $event"
            />
            <form-select
                grid="4"
                :label="$t('vulnerability-model.people-injured.label')"
                :placeholder="$t('vulnerability-model.people-injured.placeholder')"
                v-model="peopleInjured"
                :options="optionsPeopleInjured"
                @select="peopleInjured = $event"
            />
            <form-select
                grid="4"
                :label="$t('vulnerability-model.people-health.label')"
                :placeholder="$t('vulnerability-model.people-health.placeholder')"
                v-model="peopleHealth"
                :options="optionsPeopleHealth"
                @select="peopleHealth = $event"
            />
            <form-select
                grid="4"
                :label="$t('vulnerability-model.people-profile.label')"
                :placeholder="$t('vulnerability-model.people-profile.placeholder')"
                v-model="peopleProfile"
                :options="optionsPeopleProfile"
                @select="peopleProfile = $event"
            />
            <form-select
                grid="4"
                :label="$t('vulnerability-model.people-physical-condition.label')"
                :placeholder="$t('vulnerability-model.people-physical-condition.placeholder')"
                v-model="peoplePhysicalCondition"
                :options="optionsPeoplePhysicalCondition"
                @select="peoplePhysicalCondition = $event"
            />
            <form-select
                grid="4"
                :label="$t('vulnerability-model.activity.label')"
                :placeholder="$t('vulnerability-model.activity.placeholder')"
                v-model="activity"
                :options="optionsActivity"
                :badgeMax="Math.max.apply(Math, optionsActivity.map(o => { return o.value }))"
                @select="activity = $event"
            />
            <form-select
                grid="4"
                :label="$t('vulnerability-model.people-experience.label')"
                :placeholder="$t('vulnerability-model.people-experience.placeholder')"
                v-model="peopleExperience"
                badgeOperation="mult"
                :options="optionsPeopleExperience"
                @select="peopleExperience = $event"
            />
            <form-input
                grid="4"
                :label="$t('vulnerability-model.min-temp-last-night.label')"
                v-model="minTemperatureLastNight"
                type="number"
                badgeOperation="mult"
                :badgeRange="rangeMinTemp"
            />
            <form-select
                grid="4"
                :label="$t('vulnerability-model.precipitation.label')"
                :placeholder="$t('vulnerability-model.precipitation.placeholder')"
                v-model="precipitation"
                badgeOperation="mult"
                :options="optionsPrecipitation"
                @select="precipitation = $event"
            />
            <form-select
                grid="4"
                :label="$t('vulnerability-model.weather-evolution.label')"
                :placeholder="$t('vulnerability-model.weather-evolution.placeholder')"
                v-model="weatherEvolution"
                :options="optionsWeatherEvolution"
                @select="weatherEvolution = $event"
            />
            <form-select
                grid="4"
                :label="$t('vulnerability-model.people-equipment.label')"
                :placeholder="$t('vulnerability-model.people-equipment.placeholder')"
                v-model="peopleEquipment"
                badgeOperation="mult"
                :options="optionsPeopleEquipment"
                @select="peopleEquipment = $event"
            />
            <form-select
                grid="4"
                :label="$t('vulnerability-model.terrain-orography.label')"
                :placeholder="$t('vulnerability-model.terrain-orography.placeholder')"
                v-model="terrainOrography"
                :options="optionsTerrainOrography"
                @select="terrainOrography = $event"
            />
            <form-select
                grid="4"
                :label="$t('vulnerability-model.terrain-coverage.label')"
                :placeholder="$t('vulnerability-model.terrain-coverage.placeholder')"
                v-model="terrainCoverage"
                :options="optionsTerrainCoverage"
                @select="terrainCoverage = $event"
            />
        </div>
        <div class="btn-clear-container">
            <div class="btn btn-secondary btn-clear" @click="clearAllData">
                {{ $t('vulnerability-model.clear-data') }}
            </div>
        </div>
    </div>
</template>

<script>
import Navbar from '@/components/navbar/Navbar.vue';
import FormInput from '@/components/forms/FormInput.vue';
import FormSelect from '@/components/forms/FormSelect.vue';
import VulnerabilityHeader from '@/components/navbar/VulnerabilityHeader.vue';

const ERROR = 'error';
const WARNING = 'warning';
const SUCCESS = 'success';

export default {
    components: { Navbar, FormInput, FormSelect, VulnerabilityHeader },
    name: 'VulnerabilityModel',
    head() {
        return {
            title: this.$t('vulnerability-model.name'),
        }
    },
    data: () => ({
        maxVulnerability: 100,
        timeOfTheDay: '',
        timeLastSeen: '',
        totalHoursLost: '',
        age: '',
        totalPeople: '',
        communication: '',
        geoposition: '',
        peopleInjured: '',
        peopleHealth: '',
        peopleProfile: '',
        peoplePhysicalCondition: '',
        activity: '',
        peopleExperience: '',
        minTemperatureLastNight: '',
        precipitation: '',
        weatherEvolution: '',
        peopleEquipment: '',
        terrainOrography: '',
        terrainCoverage: '',
        examples: [ {id: 1}, {id: 2}, {id: 3}, {id: 4}]
    }),
    watch: {
        timeOfTheDay() {
            this.totalHoursLost = this.getTotalHoursLost;
        },
        timeLastSeen() {
            this.totalHoursLost = this.getTotalHoursLost;
        },
    },
    computed: {
        vulnerabilityNow() {
            return this.vulnerabilityCalculation(0);
        },
        vulnerabilityIn8h() {
            if( this.vulnerabilityNow != '--' ) {
                return this.vulnerabilityCalculation(8);
            }
            return null;
        },
        vulnerabilityIn24h() {
            if( this.vulnerabilityNow != '--' ) {
                return this.vulnerabilityCalculation(24);
            }
            return null;
        },
        getTotalHoursLost() {
            if( this.timeOfTheDay && this.timeLastSeen ) {
                const start = new Date(this.timeLastSeen);
                const end = new Date(this.timeOfTheDay);
                if (start <= end) {
                    const hours = Math.max(1, Math.round(Math.abs(start - end) / 36e5));
                    return hours;
                }
            }
            return null;
        },
        rangeTotalHoursLost() {
            return [
                {value:1.0, style:SUCCESS, min:1, max:3},
                {value:1.1, style:SUCCESS, min:4, max:6},
                {value:1.2, style:WARNING, min:7, max:12},
                {value:1.4, style:WARNING, min:13, max:24},
                {value:2.0, style:ERROR, min:25, max:48},
                {value:3.0, style:ERROR, min:49}
            ];
        },
        rangeAge() {
            return [
                {value:1, style:SUCCESS, min:19, max:49},
                {value:2, style:WARNING, min:16, max:18},
                {value:2, style:WARNING, min:50, max:59},
                {value:5, style:ERROR, min:0, max:8},
                {value:3, style:ERROR, min:9, max:15},
                {value:3, style:ERROR, min:60, max:74},
                {value:5, style:ERROR, min:75}
            ];
        },
        rangeTotalPeople() {
            return [
                {value:1, style:SUCCESS, min:4},
                {value:2, style:WARNING, min:2, max:3},
                {value:3, style:ERROR, min:1, max:1}
            ];
        },
        optionsCommunication() {
            return [
                {value:1, style:SUCCESS, display:this.$t('vulnerability-model.communication.options.good')},
                {value:2, style:WARNING, display:this.$t('vulnerability-model.communication.options.bad')},
                {value:3, style:ERROR, display:this.$t('vulnerability-model.communication.options.none')}
            ]
        },
        optionsGeoposition() {
            return [
                {value:0.5, style:SUCCESS, display:this.$t('vulnerability-model.geoposition.options.yes')},
                {value:1.0, style:ERROR, display:this.$t('vulnerability-model.geoposition.options.no')}
            ]
        },
        optionsPeopleInjured() {
            return [
                {value:1, style:SUCCESS, display:this.$t('vulnerability-model.people-injured.options.no')},
                {value:2, style:WARNING, display:this.$t('vulnerability-model.people-injured.options.yes-but-moving')},
                {value:3, style:ERROR, display:this.$t('vulnerability-model.people-injured.options.yes-not-moving')}
            ]
        },
        optionsPeopleHealth() {
            return [
                {value:1, style:SUCCESS, display:this.$t('vulnerability-model.people-health.options.healthy')},
                {value:2, style:WARNING, display:this.$t('vulnerability-model.people-health.options.delicate-but-stable')},
                {value:3, style:ERROR, display:this.$t('vulnerability-model.people-health.options.bad')}
            ]
        },
        optionsPeopleProfile() {
            return [
                {value:2, style:WARNING, display:this.$t('vulnerability-model.people-profile.options.teenager')},
                {value:2, style:WARNING, display:this.$t('vulnerability-model.people-profile.options.elder-people')},
                {value:2, style:WARNING, display:this.$t('vulnerability-model.people-profile.options.hiker')},
                {value:2, style:WARNING, display:this.$t('vulnerability-model.people-profile.options.gatherer')},
                {value:3, style:ERROR, display:this.$t('vulnerability-model.people-profile.options.child-1-6')},
                {value:3, style:ERROR, display:this.$t('vulnerability-model.people-profile.options.child-7-12')},
                {value:3, style:ERROR, display:this.$t('vulnerability-model.people-profile.options.development-disorder')},
                {value:3, style:ERROR, display:this.$t('vulnerability-model.people-profile.options.psychiatric')},
                {value:3, style:ERROR, display:this.$t('vulnerability-model.people-profile.options.dementia')},
                {value:3, style:ERROR, display:this.$t('vulnerability-model.people-profile.options.despondent')},
                {value:1, style:SUCCESS, display:this.$t('vulnerability-model.people-profile.options.others')},
            ]
        },
        optionsPeoplePhysicalCondition() {
            return [
                {value:1, style:SUCCESS, display:this.$t('vulnerability-model.people-physical-condition.options.athlete')},
                {value:2, style:WARNING, display:this.$t('vulnerability-model.people-physical-condition.options.active')},
                {value:3, style:ERROR, display:this.$t('vulnerability-model.people-physical-condition.options.sedentary')},
            ]
        },
        optionsActivity() {
            return [
                {value:2, style:SUCCESS, display:this.$t('vulnerability-model.activity.options.hiking')},
                {value:2, style:SUCCESS, display:this.$t('vulnerability-model.activity.options.walking')},
                {value:2, style:SUCCESS, display:this.$t('vulnerability-model.activity.options.moving-between-points')},
                {value:2, style:SUCCESS, display:this.$t('vulnerability-model.activity.options.working')},
                {value:4, style:WARNING, display:this.$t('vulnerability-model.activity.options.gathering')},
                {value:4, style:WARNING, display:this.$t('vulnerability-model.activity.options.running')},
                {value:4, style:WARNING, display:this.$t('vulnerability-model.activity.options.cycling')},
                {value:4, style:WARNING, display:this.$t('vulnerability-model.activity.options.evasion')},
                {value:4, style:WARNING, display:this.$t('vulnerability-model.activity.options.unknown')},
                {value:6, style:ERROR, display:this.$t('vulnerability-model.activity.options.extreme-sport')},
            ]
        },
        optionsPeopleExperience() {
            return [
                {value:0.5, style:SUCCESS, display:this.$t('vulnerability-model.people-experience.options.yes')},
                {value:1.0, style:ERROR, display:this.$t('vulnerability-model.people-experience.options.no')},
            ]
        },
        rangeMinTemp() {
            return [
                {value:1.0, style:SUCCESS, min:18, max:34},
                {value:1.2, style:WARNING, min:6, max:17},
                {value:2.0, style:WARNING, min:35, max:42},
                {value:2.0, style:WARNING, min:-2, max:5},
                {value:3.0, style:ERROR, max:-3},
                {value:3.0, style:ERROR, min:43},
            ];
        },
        optionsPrecipitation() {
            return [
                {value:1.0, style:SUCCESS, display:this.$t('vulnerability-model.precipitation.options.no')},
                {value:1.2, style:WARNING, display:this.$t('vulnerability-model.precipitation.options.intermittent-or-moderated')},
                {value:1.6, style:ERROR, display:this.$t('vulnerability-model.precipitation.options.yes')},
            ]
        },
        optionsWeatherEvolution() {
            return [
                {value:1, style:SUCCESS, display:this.$t('vulnerability-model.weather-evolution.options.improve')},
                {value:2, style:WARNING, display:this.$t('vulnerability-model.weather-evolution.options.same')},
                {value:3, style:ERROR, display:this.$t('vulnerability-model.weather-evolution.options.worst')},
            ]
        },
        optionsPeopleEquipment() {
            return [
                {value:0.5, style:SUCCESS, display:this.$t('vulnerability-model.people-equipment.options.excellent')},
                {value:0.8, style:WARNING, display:this.$t('vulnerability-model.people-equipment.options.adequate')},
                {value:1.0, style:ERROR, display:this.$t('vulnerability-model.people-equipment.options.inadequate')},
            ]
        },
        optionsTerrainOrography() {
            return [
                {value:1, style:SUCCESS, display:this.$t('vulnerability-model.terrain-orography.options.smooth-or-flat')},
                {value:2, style:WARNING, display:this.$t('vulnerability-model.terrain-orography.options.moderate')},
                {value:3, style:ERROR, display:this.$t('vulnerability-model.terrain-orography.options.complex')},
                {value:3, style:ERROR, display:this.$t('vulnerability-model.terrain-orography.options.very-complex')},
            ]
        },
        optionsTerrainCoverage() {
            return [
                {value:1, style:SUCCESS, display:this.$t('vulnerability-model.terrain-coverage.options.no-vegetation-or-urban')},
                {value:1, style:SUCCESS, display:this.$t('vulnerability-model.terrain-coverage.options.easy-progression')},
                {value:2, style:WARNING, display:this.$t('vulnerability-model.terrain-coverage.options.mixed-50-difficult')},
                {value:3, style:ERROR, display:this.$t('vulnerability-model.terrain-coverage.options.difficult-progression')},
                {value:3, style:ERROR, display:this.$t('vulnerability-model.terrain-coverage.options.very-difficult-progression')},
            ]
        },
    },
    methods: {
        vulnerabilityCalculation(extraHours) {
            const hours = this.totalHoursLost + extraHours;
            const totalHours = parseFloat(this.getValueFromRange(hours, this.rangeTotalHoursLost));
            const age = parseFloat(this.getValueFromRange(this.age, this.rangeAge));
            const totalPeople = parseFloat(this.getValueFromRange(this.totalPeople, this.rangeTotalPeople));
            const communication = parseFloat(this.getValueFromRange(this.communication, this.optionsCommunication));
            const geoposition = parseFloat(this.getValueFromRange(this.geoposition, this.optionsGeoposition));
            const peopleInjured = parseFloat(this.getValueFromRange(this.peopleInjured, this.optionsPeopleInjured));
            const peopleHealth = parseFloat(this.getValueFromRange(this.peopleHealth, this.optionsPeopleHealth));
            const peopleProfile = parseFloat(this.getValueFromRange(this.peopleProfile, this.optionsPeopleProfile));
            const peoplePhysicalCondition = parseFloat(this.getValueFromRange(
                this.peoplePhysicalCondition, this.optionsPeoplePhysicalCondition)
            );
            const activity = parseFloat(this.getValueFromRange(this.activity, this.optionsActivity));
            const peopleExperience = parseFloat(this.getValueFromRange(this.peopleExperience, this.optionsPeopleExperience));
            const minTempLastNight = parseFloat(this.getValueFromRange(this.minTemperatureLastNight, this.rangeMinTemp));
            const precipitation = parseFloat(this.getValueFromRange(this.precipitation, this.optionsPrecipitation));
            const weather = parseFloat(this.getValueFromRange(this.weatherEvolution, this.optionsWeatherEvolution));
            const peopleEquipment = parseFloat(this.getValueFromRange(this.peopleEquipment, this.optionsPeopleEquipment));
            const terrainOrography = parseFloat(this.getValueFromRange(this.terrainOrography, this.optionsTerrainOrography));
            const terrainCoverage = parseFloat(this.getValueFromRange(this.terrainCoverage, this.optionsTerrainCoverage));

            const total = (
                (age + totalPeople + communication + peopleInjured + peopleHealth +
                peopleProfile + peoplePhysicalCondition + (activity * peopleExperience) +
                (weather * precipitation * peopleEquipment) + terrainOrography + terrainCoverage)
                * totalHours * geoposition * minTempLastNight
            );

            return isNaN(total) ? '--' : Math.max(0, Math.min(total, this.maxVulnerability));
        },
        getValueFromRange(value, range) {
            let valueRange = '';
            if( value !== '' ) {
                range.forEach((element) => {
                    // if is a select
                    if(element.display) {
                        if(value === element.display) {
                            valueRange = element.value;
                        }
                    }
                    // if is an input
                    else {
                        const isBigger  = element.min ? element.min <= value : true;
                        const isSmaller = element.max ? element.max >= value : true;
                        if( isBigger && isSmaller ) {
                            valueRange = element.value;
                        }
                    }
                });
                return parseFloat(valueRange).toFixed(2);
            }
            return NaN;
        },
        clearAllData() {
            this.totalHoursLost = this.getTotalHoursLost;
            this.timeOfTheDay =
                new Date(new Date().toString().split('GMT')[0]+' UTC')
                .toISOString().split('.')[0];
            this.timeLastSeen = '';
            this.totalHoursLost = '';
            this.age = '';
            this.totalPeople = '';
            this.communication = '';
            this.geoposition = '';
            this.peopleInjured = '';
            this.peopleHealth = '';
            this.peopleProfile = '';
            this.peoplePhysicalCondition = '';
            this.activity = '';
            this.peopleExperience = '';
            this.minTemperatureLastNight = '';
            this.precipitation = '';
            this.weatherEvolution = '';
            this.peopleEquipment = '';
            this.terrainOrography = '';
            this.terrainCoverage = '';
        },
        addHoursToDate(date, hours) {
            return new Date(new Date(date).setHours(date.getHours() - hours));
        },
        example1() {
            const hoursLost = 1
            this.timeLastSeen =
                new Date(this.addHoursToDate(new Date(), hoursLost).toString().split('GMT')[0]+' UTC')
                .toISOString().split('.')[0];
            this.age = 10;
            this.totalPeople = 1;
            this.communication = this.optionsCommunication[2].display;
            this.geoposition = this.optionsGeoposition[1].display;
            this.peopleInjured = this.optionsPeopleInjured[0].display;
            this.peopleHealth = this.optionsPeopleHealth[0].display;
            this.peopleProfile = this.optionsPeopleProfile[5].display;
            this.peoplePhysicalCondition = this.optionsPeoplePhysicalCondition[0].display;
            this.activity = this.optionsActivity[0].display;
            this.peopleExperience = this.optionsPeopleExperience[1].display;
            this.minTemperatureLastNight = -2;
            this.precipitation = this.optionsPrecipitation[1].display;
            this.weatherEvolution = this.optionsWeatherEvolution[1].display;
            this.peopleEquipment = this.optionsPeopleEquipment[0].display;
            this.terrainOrography = this.optionsTerrainOrography[0].display;
            this.terrainCoverage = this.optionsTerrainCoverage[0].display;
        },
        example2() {
            const hoursLost = 4
            this.timeLastSeen =
                new Date(this.addHoursToDate(new Date(), hoursLost).toString().split('GMT')[0]+' UTC')
                .toISOString().split('.')[0];
            this.age = 25;
            this.totalPeople = 2;
            this.communication = this.optionsCommunication[0].display;
            this.geoposition = this.optionsGeoposition[0].display;
            this.peopleInjured = this.optionsPeopleInjured[0].display;
            this.peopleHealth = this.optionsPeopleHealth[0].display;
            this.peopleProfile = this.optionsPeopleProfile[2].display;
            this.peoplePhysicalCondition = this.optionsPeoplePhysicalCondition[0].display;
            this.activity = this.optionsActivity[0].display;
            this.peopleExperience = this.optionsPeopleExperience[0].display;
            this.minTemperatureLastNight = 13;
            this.precipitation = this.optionsPrecipitation[1].display;
            this.weatherEvolution = this.optionsWeatherEvolution[1].display;
            this.peopleEquipment = this.optionsPeopleEquipment[0].display;
            this.terrainOrography = this.optionsTerrainOrography[0].display;
            this.terrainCoverage = this.optionsTerrainCoverage[0].display;
        },
        example3() {
            const hoursLost = 48
            this.timeLastSeen =
                new Date(this.addHoursToDate(new Date(), hoursLost).toString().split('GMT')[0]+' UTC')
                .toISOString().split('.')[0];
            this.age = 50;
            this.totalPeople = 1;
            this.communication = this.optionsCommunication[1].display;
            this.geoposition = this.optionsGeoposition[1].display;
            this.peopleInjured = this.optionsPeopleInjured[1].display;
            this.peopleHealth = this.optionsPeopleHealth[1].display;
            this.peopleProfile = this.optionsPeopleProfile[2].display;
            this.peoplePhysicalCondition = this.optionsPeoplePhysicalCondition[1].display;
            this.activity = this.optionsActivity[0].display;
            this.peopleExperience = this.optionsPeopleExperience[0].display;
            this.minTemperatureLastNight = 8;
            this.precipitation = this.optionsPrecipitation[0].display;
            this.weatherEvolution = this.optionsWeatherEvolution[0].display;
            this.peopleEquipment = this.optionsPeopleEquipment[1].display;
            this.terrainOrography = this.optionsTerrainOrography[2].display;
            this.terrainCoverage = this.optionsTerrainCoverage[4].display;
        },
        example4() {
            const hoursLost = 8
            this.timeLastSeen =
                new Date(this.addHoursToDate(new Date(), hoursLost).toString().split('GMT')[0]+' UTC')
                .toISOString().split('.')[0];
            this.age = 90;
            this.totalPeople = 1;
            this.communication = this.optionsCommunication[2].display;
            this.geoposition = this.optionsGeoposition[1].display;
            this.peopleInjured = this.optionsPeopleInjured[1].display;
            this.peopleHealth = this.optionsPeopleHealth[1].display;
            this.peopleProfile = this.optionsPeopleProfile[2].display;
            this.peoplePhysicalCondition = this.optionsPeoplePhysicalCondition[1].display;
            this.activity = this.optionsActivity[7].display;
            this.peopleExperience = this.optionsPeopleExperience[1].display;
            this.minTemperatureLastNight = -2;
            this.precipitation = this.optionsPrecipitation[0].display;
            this.weatherEvolution = this.optionsWeatherEvolution[2].display;
            this.peopleEquipment = this.optionsPeopleEquipment[1].display;
            this.terrainOrography = this.optionsTerrainOrography[2].display;
            this.terrainCoverage = this.optionsTerrainCoverage[4].display;
        },
        exampleChange(id) {
            if(id == "") {
                this.clearAllData()
            } else if(id == "1") {
                this.example1()
            } else if(id == "2") {
                this.example2()
            } else if(id == "3") {
                this.example3()
            } else if(id == "4") {
                this.example4()
            }
        }
    },
    mounted() {
        this.totalHoursLost = this.getTotalHoursLost;
        this.timeOfTheDay =
            new Date(new Date().toString().split('GMT')[0]+' UTC')
            .toISOString().split('.')[0];

        const profile = this.$route.params.profile
        console.log(profile)
        if (profile) {
            this.exampleChange(profile)
        }
    }
}
</script>

<style scoped>
    .content-container {
        margin-top: var(--space-md);
    }
    /* For tablet and mobile */
    @media only screen and (max-width: 1024px) {
        .content-container {
            margin-top: var(--space-xl);
        }
    }

    /* For mobile */
    @media only screen and (max-width: 732px) {
        .content-container {
            margin-top: 0;
            padding: var(--space-md);
        }
        .grid-item-4, .grid-item-3 {
            grid-column: span 12;
        }
    }

    .value-badge {
        font-size: 12px;
        padding: var(--space-xxxs) var(--space-xs);
        margin-left: var(--space-xxs);
        border-radius: var(--border-radius);
        background-color: var(--color-background);
    }
    .display-hours {
        padding-top: var(--space-xs);
        padding-bottom: var(--space-md);
    }

    .btn-clear-container {
        text-align: center;
    }
    .btn-clear {
        margin-top: var(--space-md);
        margin-bottom: var(--space-xl);
    }
    @media only screen and (max-width: 768px) {
        .content-container {
            padding-bottom: 0;
        }
    }
</style>